{
  "extends": [
    "config:base",
    "group:allNonMajor",
    ":separateMultipleMajorReleases",
    ":automergeDisabled",
    ":ignoreUnstable",
    ":enableVulnerabilityAlertsWithLabel(security)",
    ":rebaseStalePrs",
    ":prConcurrentLimitNone",
    ":prHourlyLimitNone"
  ],
  "pre-commit": {
    "enabled": true
  },
  "packageRules": [
    {
      "groupName": "all ci non-major dependencies",
      "groupSlug": "all-ci-minor-patch",
      "matchManagers": ["github-actions", "pre-commit", "docker-compose"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true
    },
    {
      "groupName": "all non-major language versions",
      "groupSlug": "all-language-minor-patch",
      "matchDatasources": [
        "golang-version",
        "gradle-version",
        "java-version",
        "node-version"
      ],
      "matchUpdateTypes": ["minor", "patch"]
    },
    {
      "matchManagers": ["dockerfile"],
      "matchUpdateTypes": ["patch", "minor"],
      "enabled": true,
      "labels": ["security", "dependencies"],
      "prPriority": 1,
      "schedule": ["at any time"],
      "automerge": true,
      "platformAutomerge": true,
      "vulnerabilityAlerts": true
    },
    {
      "matchDatasources": ["docker"],
      "matchUpdateTypes": ["patch", "minor"],
      "enabled": true,
      "labels": ["security", "dependencies"],
      "prPriority": 1,
      "vulnerabilityAlerts": true
    }
  ],
  "reviewersFromCodeOwners": true,
  "github-actions": {
    "fileMatch": ["(^|/).github/workflows/.+/.+\\.ya?ml$"]
  },
  "docker": {
    "enabled": true
  },
  "enabledManagers": ["dockerfile", "docker-compose", "github-actions"],
  "separateMinorPatch": true,
  "commitMessagePrefix": "fix(security): ",
  "commitBody": "Fixes vulnerabilities found in container scan:\n{{#if vulnerabilities}}\n{{#each vulnerabilities}}\n- {{severity}} severity: {{title}} ({{packageName}})\n{{/each}}\n{{/if}}"
}
